{"version":3,"file":"static/js/246.cf9cfea1.chunk.js","mappings":"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","sources":["common/LinkButton.js","common/context.js","common/useNavigate.js","webpack://@kne-components/components-account/./src/components/Login/style.module.scss?052c","components/Login/index.js","locale/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js","webpack://@kne-components/components-account/./src/common/common.module.scss?5410"],"sourcesContent":["import React from 'react';\nimport useNavigate from './useNavigate';\nimport { Button } from 'antd';\n\nconst LinkButton = ({ to, state, replace, ...props }) => {\n  const navigate = useNavigate();\n  return (\n    <Button\n      {...props}\n      onClick={() => {\n        navigate(to, { replace, state });\n      }}\n    />\n  );\n};\n\nexport default LinkButton;\n","import { createContext, useContext } from 'react';\n\nconst context = createContext('/');\n\nexport const { Provider } = context;\n\nexport const useBaseUrl = baseUrlProp => {\n  const target = useContext(context);\n  return baseUrlProp || target?.baseUrl;\n};\n\nexport const useProps = () => {\n  return useContext(context);\n};\n\nexport default context;\n","import { useCallback } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nconst useReferNavigate = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const referer = searchParams.get('referer');\n  return useCallback(\n    (path, options) => {\n      if (referer) {\n        const targetSearchParams = new URLSearchParams(path.split('?')[1]);\n        targetSearchParams.append('referer', referer);\n        return navigate(path + '?' + targetSearchParams.toString(), options);\n      }\n      return navigate(path, options);\n    },\n    [navigate, referer]\n  );\n};\n\nexport default useReferNavigate;\n","// extracted by mini-css-extract-plugin\nexport default {\"forget-button\":\"style_forget-button__ehep2__VS633\"};","import style from './style.module.scss';\nimport { Checkbox, Col, Row, Space } from 'antd';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport LinkButton from '../../common/LinkButton';\nimport { createWithRemoteLoader } from '@kne/remote-loader';\nimport { useBaseUrl } from '../../common/context';\nimport importMessages, { moduleName } from '../../locale';\nimport commonStyle from '../../common/common.module.scss';\n\nconst LOGIN_REMEMBER_ACCOUNT = 'LOGIN_REMEMBER_ACCOUNT';\n\nconst Login = createWithRemoteLoader({\n  modules: ['component-core:FormInfo@formModule', 'components-core:Intl@useIntl']\n})(({ remoteModules, onSubmit, baseUrl: baseUrlProp, render }) => {\n  const [formModule, useIntl] = remoteModules;\n  const { Form, Input, SubmitButton } = formModule;\n  const baseUrl = useBaseUrl(baseUrlProp);\n  const [rememberUser, setRememberUser] = useState(false);\n  const formRef = useRef(null);\n  const localEmail = useMemo(() => window.localStorage.getItem(LOGIN_REMEMBER_ACCOUNT), []);\n  const { formatMessage } = useIntl({ moduleName });\n  useEffect(() => {\n    if (localEmail) {\n      setRememberUser(true);\n    }\n  }, [localEmail]);\n\n  const { footer, formOuter, formInner, title } = render({\n    title: () => formatMessage({ id: 'login' }),\n    footer: () => (\n      <>\n        <SubmitButton block size=\"large\">\n          {formatMessage({ id: 'login' })}\n        </SubmitButton>\n        <Row justify=\"space-between\">\n          <Col>\n            <Checkbox\n              checked={rememberUser}\n              onChange={e => {\n                setRememberUser(e.target.checked);\n              }}\n            >\n              {formatMessage({ id: 'rememberAccount' })}\n            </Checkbox>\n          </Col>\n          <Col>\n            <LinkButton className={style['forget-button']} type=\"link\" size=\"small\" to={`${baseUrl}/forget`}>\n              {formatMessage({ id: 'forgotPassword' })}\n            </LinkButton>\n          </Col>\n        </Row>\n      </>\n    ),\n    formOuter: ({ formInner, footer, title }) => (\n      <Form\n        ref={formRef}\n        type=\"inner\"\n        size=\"large\"\n        data={\n          localEmail\n            ? {\n                email: localEmail\n              }\n            : {}\n        }\n        enterSubmit\n        onSubmit={formData => {\n          if (rememberUser) {\n            window.localStorage.setItem(LOGIN_REMEMBER_ACCOUNT, formData.email);\n          } else {\n            window.localStorage.removeItem(LOGIN_REMEMBER_ACCOUNT);\n          }\n          onSubmit && onSubmit(formData);\n        }}\n      >\n        <Space className=\"space-full\" size={38} direction=\"vertical\">\n          <div className={commonStyle['title']}>{title}</div>\n          <div>{formInner}</div>\n        </Space>\n        <Space className=\"space-full\" size={10} direction=\"vertical\">\n          {footer}\n        </Space>\n      </Form>\n    ),\n    formInner: () => (\n      <>\n        <Input name=\"email\" label={formatMessage({ id: 'emailAccount' })} rule=\"REQ EMAIL\" />\n        <Input.Password type=\"password\" name=\"password\" label={formatMessage({ id: 'password' })} rule=\"REQ LEN-6-50\" />\n      </>\n    )\n  });\n\n  const footerComponent = footer(),\n    formInnerComponent = formInner(),\n    titleComponent = title();\n  return formOuter({ title: titleComponent, formInner: formInnerComponent, footer: footerComponent });\n});\n\nLogin.defaultProps = {\n  render: components => components\n};\n\nexport default createWithRemoteLoader({\n  modules: ['components-core:Intl@IntlProvider']\n})(({ remoteModules, ...props }) => {\n  const [IntlProvider] = remoteModules;\n  return (\n    <IntlProvider importMessages={importMessages} moduleName={moduleName}>\n      <Login {...props} />\n    </IntlProvider>\n  );\n});\n","const importMessages = locale => {\n  return {\n    'en-US': () => import('./en-US'),\n    'zh-CN': () => import('./zh-CN')\n  }[locale]();\n};\n\nexport const moduleName = 'components-account';\n\nexport default importMessages;\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"out-container\":\"common_out-container__UUWjc__VS633\",\"title\":\"common_title__0-KlA__VS633\",\"back-link\":\"common_back-link__4I6Cd__VS633\",\"reset-new-desc\":\"common_reset-new-desc__7M8Uw__VS633\",\"form-inner\":\"common_form-inner__1qOyw__VS633\"};"],"names":["_ref","to","state","replace","props","navigate","useNavigate","_jsx","Button","onClick","context","createContext","Provider","useBaseUrl","baseUrlProp","target","useContext","baseUrl","useProps","useReferNavigate","searchParams","useSearchParams","referer","get","useCallback","path","options","targetSearchParams","URLSearchParams","split","append","toString","LOGIN_REMEMBER_ACCOUNT","Login","createWithRemoteLoader","modules","remoteModules","onSubmit","render","formModule","useIntl","Form","Input","SubmitButton","rememberUser","setRememberUser","useState","formRef","useRef","localEmail","useMemo","window","localStorage","getItem","formatMessage","moduleName","useEffect","footer","formOuter","formInner","title","id","_jsxs","_Fragment","children","block","size","Row","justify","Col","Checkbox","checked","onChange","e","LinkButton","className","style","type","concat","_ref2","ref","data","email","enterSubmit","formData","setItem","removeItem","Space","direction","commonStyle","name","label","rule","Password","footerComponent","formInnerComponent","defaultProps","components","_ref3","IntlProvider","importMessages","locale","en-US","zh-CN","f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","__self","__source","q","c","a","g","b","d","h","call","$$typeof","_owner","current","exports","Fragment","jsx","jsxs","module"],"sourceRoot":""}